const Theme={types:["light","dark","auto"],currentType:"auto",icons:{light:"icon-sun",dark:"icon-moon",auto:"icon-auto"},toggle(){const e=this.types.indexOf(this.currentType),t=(e+1)%this.types.length;this.currentType=this.types[t],this.apply(),localStorage.setItem("theme",this.currentType),this.updateIcon()},apply(){const e=document.documentElement;if(this.types.forEach(t=>{e.classList.remove(t)}),this.currentType==="auto"){const t=window.matchMedia("(prefers-color-scheme: dark)").matches,n=t?"dark":"light";e.classList.add(n)}else e.classList.add(this.currentType);console.log("当前模式：",this.currentType)},updateIcon(){const e=document.getElementById("themeIcon");e&&(e.className=`iconfont ${this.icons[this.currentType]}`)},init(){const e=localStorage.getItem("theme");e&&this.types.includes(e)&&(this.currentType=e),this.apply(),this.updateIcon(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{this.currentType==="auto"&&this.apply()});const t=document.getElementById("themeToggle");t&&t.addEventListener("click",()=>this.toggle())}};document.addEventListener("DOMContentLoaded",()=>{Theme.init()})